<!doctype html>
<html lang="en" data-theme="dark-purple">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>CrownTALK - Comment Generator</title>

    <!-- Core styles -->
    <link rel="stylesheet" href="static/styles.css" />
    <link rel="stylesheet" href="static/generate-button.css" />
    <link rel="stylesheet" href="static/inputbox.css" />
    <link rel="shortcut icon" href="static/logo.png" type="image/png" />

    <script>
      // Global toggle to enable/disable heavy premium features
      window.CT_PREMIUM_ENABLED = true; // set to false to disable

      // Feature-level toggles if you want finer control
      window.CT_PREMIUM_FLAGS = {
        pipelineView: true,
        runHealthHud: true,
        altOverlay: true,
        radarRing: true,
        timeline: true,
        achievements: true,
      };
    </script>
    <script>
  window.CT_PREMIUM_WS_URL = "ws://localhost:8081/ws";
</script>


    <!-- Minimal overlay helpers (scoped to #adminGate only) -->
    <style>
      .ct-gate-overlay {
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: grid;
        place-items: center;
        padding: 16px;
        backdrop-filter: blur(6px);
        background: rgba(0, 0, 0, 0.55);
      }
      #adminGate .font-mono {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }
      #adminGate .w-full {
        width: 100%;
      }
      #adminGate .max-w-md {
        max-width: 28rem;
      }
      #adminGate .mx-auto {
        margin-left: auto;
        margin-right: auto;
      }
      #adminGate .relative {
        position: relative;
      }
      #adminGate .absolute {
        position: absolute;
      }
      #adminGate .p-6 {
        padding: 1.5rem;
      }
      #adminGate .bg-black {
        background: #000;
      }
      #adminGate .bg-green-400 {
        background: #4ade80;
      }
      #adminGate .border-2 {
        border-width: 2px;
      }
      #adminGate .border-green-400 {
        border-color: #4ade80;
      }
      #adminGate .rounded-lg {
        border-radius: 0.75rem;
      }
      #adminGate .shadow-lg {
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.55),
          inset 0 0 0 1px rgba(74, 222, 128, 0.2);
      }
      #adminGate .overflow-hidden {
        overflow: hidden;
      }
      #adminGate .text-green-600 {
        color: #16a34a;
      }
      #adminGate .text-green-500 {
        color: #22c55e;
      }
      #adminGate .text-green-400 {
        color: #4ade80;
      }
      #adminGate .text-green-300 {
        color: #86efac;
      }
      #adminGate .text-red-400 {
        color: #f87171;
      }
      #adminGate .text-xs {
        font-size: 0.75rem;
        line-height: 1rem;
      }
      #adminGate .text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }
      #adminGate .text-base {
        font-size: 1rem;
        line-height: 1.5rem;
      }
      #adminGate .font-bold {
        font-weight: 700;
      }
      #adminGate .opacity-80 {
        opacity: 0.8;
      }
      #adminGate .opacity-75 {
        opacity: 0.75;
      }
      #adminGate .tracking-wider {
        letter-spacing: 0.08em;
      }
      #adminGate .flex {
        display: flex;
      }
      #adminGate .items-center {
        align-items: center;
      }
      #adminGate .gap-2 {
        gap: 0.5rem;
      }
      #adminGate .mr-2 {
        margin-right: 0.5rem;
      }
      #adminGate .ml-2 {
        margin-left: 0.5rem;
      }
      #adminGate .mt-4 {
        margin-top: 1rem;
      }
      #adminGate input#password {
        width: 100%;
        background: transparent;
        color: #86efac;
        font-size: 1rem;
        border: 2px solid #22c55e;
        border-radius: 0.5rem;
        padding: 0.75rem 0.75rem;
        padding-right: 2.25rem;
        outline: none;
        transition: box-shadow 0.15s ease, border-color 0.15s ease;
      }
      #adminGate input#password::placeholder {
        color: rgba(22, 163, 74, 0.6);
      }
      #adminGate input#password:focus {
        border-color: #16a34a;
        box-shadow: 0 0 0 2px rgba(74, 222, 128, 0.45);
      }
      #adminGate .animate-pulse {
        animation: ct-gate-pulse 1.2s ease-in-out infinite;
      }
      @keyframes ct-gate-pulse {
        0%,
        100% {
          opacity: 0.25;
        }
        50% {
          opacity: 0.9;
        }
      }
      /* tiny shake effect used by script.js on wrong code (optional) */
      .ct-shake {
        animation: ctshake 0.35s ease;
      }
      @keyframes ctshake {
        10%,
        90% {
          transform: translateX(-1px);
        }
        20%,
        80% {
          transform: translateX(2px);
        }
        30%,
        50%,
        70% {
          transform: translateX(-4px);
        }
        40%,
        60% {
          transform: translateX(4px);
        }
      }
    </style>
  </head>

  <body>
    <!-- ===== ACCESS GATE (first time per device) ===== -->
    <div id="adminGate" class="ct-gate-overlay" hidden>
      <div class="relative w-full max-w-md mx-auto font-mono">
        <div
          class="relative p-6 bg-black border-2 border-green-400 rounded-lg shadow-lg overflow-hidden"
        >
          <!-- corner ticks -->
          <div class="absolute top-0 left-0 w-6 h-1 bg-green-400"></div>
          <div class="absolute top-0 left-0 w-1 h-6 bg-green-400"></div>
          <div class="absolute top-0 right-0 w-6 h-1 bg-green-400"></div>
          <div class="absolute top-0 right-0 w-1 h-6 bg-green-400"></div>
          <div class="absolute bottom-0 left-0 w-6 h-1 bg-green-400"></div>
          <div class="absolute bottom-0 left-0 w-1 h-6 bg-green-400"></div>
          <div class="absolute bottom-0 right-0 w-6 h-1 bg-green-400"></div>
          <div class="absolute bottom-0 right-0 w-1 h-6 bg-green-400"></div>

          <div
            class="absolute inset-x-0 top-0 h-16"
            style="
              background: linear-gradient(
                to bottom,
                transparent,
                rgba(6, 95, 70, 0.2),
                transparent
              );
            "
          ></div>

          <label
            class="mb-3 text-green-400 text-sm tracking-wider flex items-center"
            for="password"
          >
            <span class="mr-2 text-green-600">âžœ</span>
            <span class="text-green-300 font-bold">CrownTALK_ACCESS</span>
            <span class="ml-2 opacity-75 animate-pulse">â–‹</span>
          </label>

          <div class="relative">
            <input
              id="password"
              type="password"
              class="w-full bg-transparent text-green-300 text-base border-2 border-green-500 rounded-md p-3"
              placeholder="âž¤ ENTER CREDENTIALS"
              autocomplete="current-password"
              aria-label="Access code"
            />
            <!-- lock icon doubles as submit -->
            <svg
              id="lockFloatingIcon"
              stroke="currentColor"
              viewBox="0 0 24 24"
              fill="none"
              style="
                position: absolute;
                right: 0.75rem;
                top: 50%;
                transform: translateY(-50%);
                width: 1.25rem;
                height: 1.25rem;
                color: #22c55e;
                cursor: pointer;
              "
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                stroke-width="2"
                stroke-linejoin="round"
                stroke-linecap="round"
              ></path>
            </svg>
          </div>

          <div class="mt-4 flex items-center gap-2 opacity-80">
            <span
              style="
                width: 0.5rem;
                height: 0.5rem;
                background: #ef4444;
                border-radius: 9999px;
              "
            ></span>
            <p class="text-xs text-green-500">
              <span class="text-red-400">WARNING:</span> Unauthorized access will
              be reported
            </p>
          </div>

          <!-- decorative ticks -->
          <div
            class="absolute top-0 right-12"
            style="width: 1px; height: 16px; background: rgba(34, 197, 94, 0.5)"
          ></div>
          <div
            class="absolute top-0 right-16"
            style="width: 1px; height: 24px; background: rgba(34, 197, 94, 0.3)"
          ></div>
          <div
            class="absolute top-0 right-20"
            style="width: 1px; height: 8px; background: rgba(34, 197, 94, 0.7)"
          ></div>
          <div
            class="absolute bottom-0 left-12"
            style="width: 1px; height: 16px; background: rgba(34, 197, 94, 0.5)"
          ></div>
          <div
            class="absolute bottom-0 left-16"
            style="width: 1px; height: 24px; background: rgba(34, 197, 94, 0.3)"
          ></div>
          <div
            class="absolute bottom-0 left-20"
            style="width: 1px; height: 8px; background: rgba(34, 197, 94, 0.7)"
          ></div>
        </div>
      </div>
    </div>
    <!-- ===== /ACCESS GATE ===== -->

    <!-- ===== DAILY WELCOME CARD ===== -->
    <div id="welcomeOverlay" class="welcome-overlay">
      <div class="welcome-card-shell">
        <div class="welcome-outer">
          <div class="welcome-dot"></div>
          <div class="welcome-card">
            <div class="welcome-ray"></div>
            <div class="welcome-main-text">GM, operator</div>
            <div class="welcome-subtext">Letâ€™s farm smarter CT replies today.</div>
            <div class="welcome-line topl"></div>
            <div class="welcome-line leftl"></div>
            <div class="welcome-line bottoml"></div>
            <div class="welcome-line rightl"></div>
          </div>
        </div>
        <button type="button" id="welcomeDismissBtn" class="welcome-dismiss-btn">
          Start session
        </button>
      </div>
    </div>
    <!-- ===== /DAILY WELCOME CARD ===== -->

    <div class="app-shell">
      <!-- ===== HERO / HEADER ===== -->
      <header class="hero">
        <div class="hero-main">
          <div class="hero-orbit">
            <div class="hero-orbit-inner">
              <img src="static/logo.png" alt="CrownTALK" />
            </div>
          </div>
          <div class="hero-copy">
            <h1>C R O W N T A L K</h1>
            <p>Humanlike comment engine powered by CrownDEX ðŸ‘‘</p>
          </div>
        </div>

        <div class="theme-switcher">
          <span class="theme-label">Theme</span>

          <!-- keep .theme-dots so the existing container styling still works -->
          <div class="theme-dots ct-theme-radios">
            <!-- White -->
            <div class="ct-theme-radio">
              <input
                type="radio"
                name="ct-theme"
                id="ct-theme-white"
                class="ct-theme-input theme-dot"
                data-theme="white"
              />
              <div class="ct-theme-btn">
                <span aria-hidden="">_</span>WHT
                <span aria-hidden="" class="ct-theme-glitch">_WHITE_</span>
                <span class="ct-theme-number">01</span>
              </div>
            </div>

            <!-- Dark Purple -->
            <div class="ct-theme-radio">
              <input
                type="radio"
                name="ct-theme"
                id="ct-theme-purple"
                class="ct-theme-input theme-dot"
                data-theme="dark-purple"
              />
              <div class="ct-theme-btn">
                <span aria-hidden="">_</span>PRPL
                <span aria-hidden="" class="ct-theme-glitch">_PURPLE_</span>
                <span class="ct-theme-number">02</span>
              </div>
            </div>

            <!-- Gold -->
            <div class="ct-theme-radio">
              <input
                type="radio"
                name="ct-theme"
                id="ct-theme-gold"
                class="ct-theme-input theme-dot"
                data-theme="gold"
              />
              <div class="ct-theme-btn">
                <span aria-hidden="">_</span>GOLD
                <span aria-hidden="" class="ct-theme-glitch">_GOLD_</span>
                <span class="ct-theme-number">03</span>
              </div>
            </div>

            <!-- Blue -->
            <div class="ct-theme-radio">
              <input
                type="radio"
                name="ct-theme"
                id="ct-theme-blue"
                class="ct-theme-input theme-dot"
                data-theme="blue"
              />
              <div class="ct-theme-btn">
                <span aria-hidden="">_</span>BLUE
                <span aria-hidden="" class="ct-theme-glitch">_BLUE_</span>
                <span class="ct-theme-number">04</span>
              </div>
            </div>

            <!-- Black -->
            <div class="ct-theme-radio">
              <input
                type="radio"
                name="ct-theme"
                id="ct-theme-black"
                class="ct-theme-input theme-dot"
                data-theme="black"
              />
              <div class="ct-theme-btn">
                <span aria-hidden="">_</span>BLK
                <span aria-hidden="" class="ct-theme-glitch">_BLACK_</span>
                <span class="ct-theme-number">05</span>
              </div>
            </div>

            <!-- Emerald -->
            <div class="ct-theme-radio">
              <input
                type="radio"
                name="ct-theme"
                id="ct-theme-emerald"
                class="ct-theme-input theme-dot"
                data-theme="emerald"
              />
              <div class="ct-theme-btn">
                <span aria-hidden="">_</span>EMR
                <span aria-hidden="" class="ct-theme-glitch">_EMERALD_</span>
                <span class="ct-theme-number">06</span>
              </div>
            </div>

            <!-- Crimson -->
            <div class="ct-theme-radio">
              <input
                type="radio"
                name="ct-theme"
                id="ct-theme-crimson"
                class="ct-theme-input theme-dot"
                data-theme="crimson"
              />
              <div class="ct-theme-btn">
                <span aria-hidden="">_</span>CRIM
                <span aria-hidden="" class="ct-theme-glitch">_CRIMSON_</span>
                <span class="ct-theme-number">07</span>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- ===== MAIN ===== -->
      <main class="main">
        <!-- ===== TWEET URLS / INPUT CARD ===== -->
        <section class="card">
          <div class="card-head">
            <h2>Tweet URLs</h2>
          </div>

          <div class="ai-chat-input">
            <div class="chat-container">
              <div class="chat-header">
                <div class="status-section">
                  <div class="status-indicator" aria-hidden="true"></div>
                  <span class="status-text">CrownTALK</span>
                </div>
                <div class="badges">
                  <span class="badge badge-gpt">TALK-5</span>
                  <span class="badge badge-pro">Pro</span>
                </div>
              </div>

              <div class="input-section">
                <textarea
                  id="urlInput"
                  class="main-input"
                  rows="8"
                  placeholder="Paste one or more X (Twitter) post links â€” one per line (e.g., https://x.com/user/status/123...)"
                  spellcheck="false"
                ></textarea>
                <div class="gradient-overlay"></div>
              </div>

              <!-- Input HUD -->
              <div id="ctInputHud" class="ct-input-hud" aria-live="polite"></div>

              <div class="footer-info">
                <div class="shortcut-info">
                  <svg
                    class="info-icon"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                    aria-hidden="true"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                  <span
                    >Press <kbd class="shortcut-key">Enter</kbd> for new line</span
                  >
                </div>
                <div class="system-status">
                  <div class="system-indicator" aria-hidden="true"></div>
                  <span>All Systems Operational</span>
                </div>
              </div>

              <div class="floating-overlay"></div>
            </div>
          </div>

          <!-- URL Tools row -->
          <div class="url-tools-row">
            <div class="url-health">
              <span id="urlHealthBadge" class="url-health-badge">No URLs yet</span>
              <div class="url-health-meter" aria-hidden="true">
                <div
                  id="urlHealthMeterFill"
                  class="url-health-meter-fill"
                ></div>
              </div>
            </div>
            <div class="url-tools-buttons">
              <button
                id="removeInvalidBtn"
                type="button"
                class="btn-secondary subtle btn-xs"
              >
                Clean invalid
              </button>
              <button
                id="sortUrlsBtn"
                type="button"
                class="btn-secondary subtle btn-xs hide-on-mobile"
              >
                Sort Aâ†’Z
              </button>
              <button
                id="shuffleUrlsBtn"
                type="button"
                class="btn-secondary subtle btn-xs hide-on-mobile"
              >
                Shuffle
              </button>
            </div>
          </div>

          <div class="lang-filter-row">
            <span class="lang-filter-label">Languages</span>
            <label class="lang-filter-pill" data-active="true">
              <input type="checkbox" id="langEnToggle" checked />
              EN
            </label>
            <label class="lang-filter-pill" data-active="true">
              <input type="checkbox" id="langNativeToggle" checked />
              Native
            </label>
            <select id="nativeLangSelect" class="native-lang-select" title="Native language override">
              <option value="">Auto</option>
              <option value="ko">Korean</option>
            </select>
          </div>

          <div class="controls">
            <button id="generateBtn" type="button" class="btn">
              <div class="dots_border"></div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="sparkle"
                aria-hidden="true"
              >
                <path
                  class="path"
                  stroke-linejoin="round"
                  stroke-linecap="round"
                  d="M14.187 8.096L15 5.25L15.813 8.096C16.0231 8.83114 16.4171 9.50062 16.9577 10.0413C17.4984 10.5819 18.1679 10.9759 18.903 11.186L21.75 12L18.904 12.813C18.1689 13.0231 17.4994 13.4171 16.9587 13.9577C16.4181 14.4984 16.0241 15.1679 15.814 15.903L15 18.75L14.187 15.904C13.9769 15.1689 13.5829 14.4994 13.0423 13.9587C12.5016 13.4181 11.8321 13.0241 11.097 12.814L8.25 12L11.096 11.187C11.8311 10.9769 12.5006 10.5829 13.0413 10.0423C13.5819 9.50162 13.9759 8.83214 14.186 8.097Z"
                ></path>
                <path
                  class="path"
                  stroke-linejoin="round"
                  stroke-linecap="round"
                  d="M6 14.25L5.741 15.285C5.59267 15.8785 5.28579 16.4206 4.85319 16.8532C4.42059 17.2858 3.87853 17.5927 3.285 17.741L2.25 18L3.285 18.259C3.87853 18.4073 4.42059 18.7142 4.85319 19.1468C5.28579 19.5794 5.59267 20.1215 5.741 20.715L6 21.75L6.259 20.715C6.40725 20.1216 6.71398 19.5796 7.14639 19.147C7.5788 18.7144 8.12065 18.4075 8.714 18.259L9.75 18L8.714 17.741C8.12065 17.5925 7.5788 17.2856 7.14639 16.853C6.71398 16.4204 6.40725 15.8784 6.259 15.285L6 14.25Z"
                ></path>
                <path
                  class="path"
                  stroke-linejoin="round"
                  stroke-linecap="round"
                  d="M6.5 4L6.303 4.5915C6.24777 4.75718 6.15472 4.90774 6.03123 5.03123C5.90774 5.15472 5.75718 5.24777 5.5915 5.303L5 5.5L5.5915 5.697C5.75718 5.75223 5.90774 5.84528 6.03123 5.96877C6.15472 6.09226 6.24777 6.24282 6.303 6.4085L6.5 7L6.697 6.4085C6.75223 6.24282 6.84528 6.09226 6.96877 5.96877C7.09226 5.84528 7.24282 5.75223 7.4085 5.697L8 5.5L7.4085 5.303C7.24282 5.24777 7.09226 5.15472 6.96877 5.03123C6.84528 4.90774 6.75223 4.75718 6.697 4.5915L6.5 4Z"
                ></path>
              </svg>
              <span class="text_button tb-1">Generate</span>
              <span class="text_button tb-2">Generating</span>
            </button>

            <button id="cancelBtn" class="btn-secondary" type="button">
              Cancel
            </button>

            <button
              id="clearBtn"
              class="btn-secondary subtle"
              type="button"
              aria-label="Clear"
            >
              <span class="sr-only">Clear</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 69 14"
                class="svgIcon bin-top"
                aria-hidden="true"
              >
                <g clip-path="url(#clip0_35_24)">
                  <path
                    fill="currentColor"
                    d="M20.8232 2.62734L19.9948 4.21304C19.8224 4.54309 19.4808 4.75 19.1085 4.75H4.92857C2.20246 4.75 0 6.87266 0 9.5C0 12.1273 2.20246 14.25 4.92857 14.25H64.0714C66.7975 14.25 69 12.1273 69 9.5C69 6.87266 66.7975 4.75 64.0714 4.75H49.8915C49.5192 4.75 49.1776 4.54309 49.0052 4.21305L48.1768 2.62734C47.3451 1.00938 45.6355 0 43.7719 0H25.2281C23.3645 0 21.6549 1.00938 20.8232 2.62734Z"
                  ></path>
                </g>
                <defs>
                  <clipPath id="clip0_35_24">
                    <rect fill="white" height="14" width="69"></rect>
                  </clipPath>
                </defs>
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 69 57"
                class="svgIcon bin-bottom"
                aria-hidden="true"
              >
                <g clip-path="url(#clip0_35_22)">
                  <path
                    fill="currentColor"
                    d="M64.0023 1.0648C64.0397 0.4882 63.5822 0 63.0044 0H5.99556C5.4178 0 4.96025 0.4882 4.99766 1.0648L8.19375 50.3203C8.44018 54.0758 11.6746 57 15.5712 57H53.4288C57.3254 57 60.5598 54.0758 60.8062 50.3203L64.0023 1.0648Z"
                  ></path>
                </g>
                <defs>
                  <clipPath id="clip0_35_22">
                    <rect fill="white" height="57" width="69"></rect>
                  </clipPath>
                </defs>
              </svg>
            </button>
          </div>

          <div class="progress-row">
            <span id="progress" class="helper-text"></span><span id="progressPct" class="helper-text helper-text-pct">0%</span>
            <div class="progress-bar-outer">
              <div
                id="progressBarFill"
                class="progress-bar-inner"
              ></div>
            </div>
          </div>

          <!-- Premium: Live radar ring (desktop) -->
          <div
            id="radarRing"
            class="radar-ring hide-on-mobile"
            aria-hidden="true"
          >
            <canvas id="radarCanvas" width="80" height="80"></canvas>
          </div>

          <!-- Premium: Radar summary (mobile) -->
          <div
            id="radarSummary"
            class="show-on-mobile radar-summary"
            aria-hidden="true"
          >
            Now:
            <span id="radarRunning">0</span> running â€¢
            <span id="radarQueued">0</span> queued
          </div>

          <!-- Premium: Run sheet toggle (mobile) -->
          <button
            id="runSheetToggle"
            class="run-sheet-toggle show-on-mobile"
            type="button"
          >
            Run details
          </button>

          <div
            id="runSheet"
            class="run-sheet show-on-mobile"
            aria-hidden="true"
          >
            <div class="run-sheet-inner">
              <div class="run-sheet-handle"></div>
              <h3 class="run-sheet-title">Run details</h3>
              <div class="run-sheet-body">
                <p id="runSheetSummary" class="run-sheet-summary">
                  No run yet.
                </p>
                <p id="runSheetStats" class="run-sheet-stats"></p>
              </div>
            </div>
          </div>

          <!-- Visual queue of URLs in this batch -->
          <div
            id="urlQueue"
            class="url-queue hide-on-mobile"
            aria-hidden="true"
          ></div>

          <!-- Premium: Pipeline view (desktop) -->
          <div
            id="pipelineView"
            class="pipeline-view hide-on-mobile"
            aria-hidden="true"
          ></div>

          <!-- Analytics HUD row -->
          <div
            id="analyticsHud"
            class="analytics-row hide-on-mobile"
            aria-hidden="true"
          >
            <div class="analytics-pill">
              <span class="label">Last run</span>
              <span class="value" id="analyticsSummary">â€”</span>
            </div>
            <div class="analytics-pill">
              <span class="label">Tweets</span>
              <span class="value" id="analyticsTweets">0</span>
            </div>
            <div class="analytics-pill">
              <span class="label">Failed</span>
              <span class="value" id="analyticsFailed">0</span>
            </div>
            <div class="analytics-pill">
              <span class="label">Time</span>
              <span class="value" id="analyticsTime">0s</span>
            </div>

            <div
              class="analytics-pill hide-on-mobile"
              id="runHealthSpark"
            >
              <span class="label">Latency</span>
              <span class="value" id="runHealthLatency">â€”</span>
              <svg
                id="runHealthSparkSvg"
                width="80"
                height="18"
                aria-hidden="true"
              ></svg>
            </div>

            <div class="analytics-pill" id="runHealthState">
              <span class="label">Health</span>
              <span class="value" id="runHealthStateLabel">Idle</span>
            </div>
          </div>
        </section>

        <!-- ===== RESULTS ===== -->
        <section class="card" id="resultsCard">
          <div class="card-head">
            <!-- left side: title + subtitle -->
            <div class="card-head-main">
              <h2>
                Results <span id="resultCount" class="chip">0</span>
              </h2>
              <p class="muted">Human style smart comments ready to copy</p>
            </div>

            <!-- right side: run badge + dropdown menu (desktop only) -->
            <div class="results-toolbar">
              <span class="badge badge-run"
                >Run <span id="runCount">1</span></span
              >

              <!-- NEW: session summary chip -->
              <span class="badge badge-summary" id="sessionSummary">
                0 tweets â€¢ 0 comments â€¢ 0 failed
              </span>

              <!-- Premium: day timeline (desktop) -->
              <div
                id="runTimeline"
                class="run-timeline hide-on-mobile"
                aria-hidden="true"
              ></div>

              <div class="results-menu" id="resultsMenu">
                <button
                  type="button"
                  id="resultsMenuToggle"
                  class="btn-xs results-menu-toggle"
                >
                  Menu â–¾
                </button>

                <div class="results-menu-pop">
                  <!-- group 1: bulk actions only -->
                  <div class="results-menu-group">
                    <div class="results-menu-title">Bulk actions</div>
                    <div class="results-menu-actions">
                      <button
                        type="button"
                        class="btn-xs"
                        id="exportAllBtn"
                      >
                        Copy all
                      </button>
                      <button
                        type="button"
                        class="btn-xs"
                        id="exportEnBtn"
                      >
                        Copy EN
                      </button>
                      <button
                        type="button"
                        class="btn-xs"
                        id="exportNativeBtn"
                      >
                        Copy native
                      </button>
                      <button
                        type="button"
                        class="btn-xs"
                        id="downloadTxtBtn"
                      >
                        Download .txt
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- session tabs (history of runs in this page) -->
          <div id="sessionTabs" class="session-tabs"></div>

          <!-- results list -->
          <div id="results" class="tweets"></div>

          <!-- floating keyboard shortcut bubble -->
          <div class="keyboard-floating hide-on-mobile">
            <button
              type="button"
              class="keyboard-fab"
              aria-label="Keyboard shortcuts"
            >
              âŒ¨
            </button>
            <div class="keyboard-hud keyboard-fab-panel">
              <span>âŒ˜/Ctrl + Enter â†’ Generate</span>
              <span>Esc â†’ Cancel</span>
              <span>Ctrl + L â†’ Focus URL box</span>
              <span>Ctrl + Shift + C â†’ Copy next</span>
            </div>
          </div>
        </section>

        <!-- ===== FAILED ===== -->
        <section class="card">
          <div class="card-head">
            <div class="card-head-main">
              <h2>
                Failed <span id="failedCount" class="chip">0</span>
              </h2>
              <p class="muted">
                Errors while processing your URLs (Maybe url is broken or tweet
                is private/broken)
              </p>
            </div>

            <!-- retry button for failed URLs -->
            <div class="chip-row">
              <button
                id="retryFailedBtn"
                class="btn-secondary subtle"
                type="button"
              >
                Retry failed
              </button>
            </div>
          </div>

          <div id="failed" class="failed-list"></div>
        </section>

        <!-- Engine status hologram (desktop only) -->
        <div class="card card-holo hide-on-mobile">
          <div class="card-header">
            <span class="card-title">Engine status</span>
          </div>
          <div class="card-body">
            <div class="holo-system">
              <div class="grid-plane"></div>

              <div class="stars-container">
                <div class="star-layer"></div>
                <div class="star-layer"></div>
                <div class="star-layer"></div>
              </div>

              <!-- optional nebula background -->
              <div class="nebula"></div>

              <div class="checkbox-container">
                <input
                  class="holo-checkbox-input"
                  id="holo-check"
                  type="checkbox"
                />
                <label class="holo-checkbox" for="holo-check">
                  <div class="holo-box">
                    <div class="holo-inner"></div>
                    <div class="scan-effect"></div>
                    <div class="holo-particles">
                      <div class="holo-particle"></div>
                      <div class="holo-particle"></div>
                      <div class="holo-particle"></div>
                      <div class="holo-particle"></div>
                      <div class="holo-particle"></div>
                      <div class="holo-particle"></div>
                    </div>

                    <div class="activation-rings">
                      <div class="activation-ring"></div>
                      <div class="activation-ring"></div>
                      <div class="activation-ring"></div>
                    </div>

                    <div class="cube-transform">
                      <div class="cube-face"></div>
                      <div class="cube-face"></div>
                      <div class="cube-face"></div>
                      <div class="cube-face"></div>
                      <div class="cube-face"></div>
                      <div class="cube-face"></div>
                    </div>
                  </div>

                  <div class="corner-accent"></div>
                  <div class="corner-accent"></div>
                  <div class="corner-accent"></div>
                  <div class="corner-accent"></div>

                  <div class="holo-glow"></div>
                </label>

                <div class="status-text"></div>

                <div class="frequency-spectrum">
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                  <div class="frequency-bar"></div>
                </div>

                <div class="data-chips">
                  <div class="data-chip">STATUS: IDLE [0x4F]</div>
                  <div class="data-chip">QUANTUM VERIFY: 82.6%</div>
                  <div class="data-chip">SYNCH: PENDING</div>
                  <div class="data-chip">0x7A2C8B9F</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ===== HISTORY ===== -->
        <section class="card">
          <div class="card-head">
            <h2>Clipboard History</h2>
            <div class="chip-row">
              <button
                id="clearHistoryBtn"
                class="btn-secondary subtle"
                type="button"
              >
                Clear History
              </button>
            </div>
          </div>
          <div id="history" class="history-list"></div>
        </section>
      </main>

      <!-- ===== FOOTER ===== -->
      <footer class="footer">
        <div>Â© <span id="year"></span> CrownTALK</div>
        <div>
          Built by
          <a
            href="https://x.com/_CrownDEX"
            target="_blank"
            rel="noopener noreferrer"
            >CrownDEX</a
          >
        </div>
      </footer>
    </div>

    <button
      type="button"
      id="safeModeToggle"
      class="ct-lowmotion-pill"
      aria-pressed="false"
    >
      Low motion
    </button>

    <div id="ctToasts" aria-live="polite" aria-atomic="true"></div>

    <!-- Premium: keyboard command overlay (desktop only) -->
    <div
      id="ctCommandOverlay"
      class="ct-command-overlay hide-on-mobile"
      aria-hidden="true"
    ></div>

    <!-- Your main app JS (contains the single-gate + app logic) -->
    <script src="static/script.v2.js"></script>
    <script src="static/premium.v1.js" defer></script>
  </body>
</html>
