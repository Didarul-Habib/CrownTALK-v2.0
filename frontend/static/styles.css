/* =========================================================
   CrownTALK — Full Stylesheet (cards + themes + polish)
   ========================================================= */

/* ROOT VARIABLES */
:root {
  --bg: #0b1426 radial-gradient(circle at 50% -20%, #0b1426 0, #091321 60%, #08101c 100%);
  --card-bg: rgba(15, 23, 42, 0.92);
  --card-border: rgba(148, 163, 184, 0.35);
  --text-main: #e5e7eb;
  --text-muted: #93a4b8;
  --accent: #c4b5fd;
  --accent-soft: rgba(129, 140, 248, 0.25);
  --accent-soft-strong: rgba(129, 140, 248, 0.45);
  --chip-bg: rgba(16, 23, 38, 0.9);
  --hero-glow-from: rgba(129, 140, 248, 0.65);
  --hero-glow-to: rgba(248, 250, 252, 0.4);

  /* reroll */
  --reroll-primary: 129, 140, 248;
  --reroll-secondary: 88, 28, 135;

  /* theme-aware button colors (used by generate-button.css) */
  --btn-base: #7c3aed;
  --btn-edge: #4c1d95;
  --btn-glow: 129, 140, 248;
}

/* THEMES ------------------------------------------------- */
[data-theme="white"] {
  --bg: #f5f5f7;
  --card-bg: #ffffff;
  --card-border: #e5e7eb;
  --text-main: #111827;
  --text-muted: #6b7280;
  --accent: #3b82f6;
  --accent-soft: #eef2ff;
  --accent-soft-strong: #d1d5db;
  --chip-bg: #f3f4f6;
  --hero-glow-from: rgba(15, 23, 42, 0.45);
  --hero-glow-to: rgba(250, 204, 21, 0.45);

  --reroll-primary: 96, 165, 250;
  --reroll-secondary: 37, 99, 235;

  --btn-base: #2563eb;
  --btn-edge: #1e3a8a;
  --btn-glow: 59, 130, 246;
}

[data-theme="dark-purple"] {
  --bg: radial-gradient(circle at 50% -25%, #3b1a6d 0, #140b2a 50%, #0a0819 100%);
  --card-bg: rgba(18, 16, 33, 0.92);
  --card-border: rgba(168, 85, 247, 0.28);
  --text-main: #ece9ff;
  --text-muted: #bfb9d9;
  --accent: #a78bfa;
  --accent-soft: rgba(129, 140, 248, 0.22);
  --accent-soft-strong: rgba(129, 140, 248, 0.45);
  --chip-bg: rgba(21, 17, 34, 0.92);
  --hero-glow-from: rgba(167, 139, 250, 0.75);
  --hero-glow-to: rgba(244, 114, 182, 0.45);

  --reroll-primary: 167, 139, 250;
  --reroll-secondary: 88, 28, 135;

  --btn-base: #7c3aed;
  --btn-edge: #4c1d95;
  --btn-glow: 167, 139, 250;
}

[data-theme="gold"] {
  --bg: radial-gradient(circle at 50% -25%, #4d2f0d 0, #1a1206 55%, #0a0805 100%);
  --card-bg: rgba(15, 12, 4, 0.92);
  --card-border: rgba(251, 191, 36, 0.45);
  --text-main: #fde68a;
  --text-muted: #facc15;
  --accent: #fbbf24;
  --accent-soft: rgba(251, 191, 36, 0.2);
  --accent-soft-strong: rgba(251, 191, 36, 0.42);
  --chip-bg: rgba(21, 17, 6, 0.9);
  --hero-glow-from: rgba(251, 191, 36, 0.8);
  --hero-glow-to: rgba(252, 211, 77, 0.5);

  --reroll-primary: 251, 191, 36;
  --reroll-secondary: 180, 83, 9;

  --btn-base: #f59e0b;
  --btn-edge: #92400e;
  --btn-glow: 251, 191, 36;
}

[data-theme="blue"] {
  --bg: radial-gradient(circle at 50% -25%, #123a7a 0, #0a1328 55%, #050a16 100%);
  --card-bg: rgba(10, 18, 36, 0.94);
  --card-border: rgba(96, 165, 250, 0.38);
  --text-main: #dbeafe;
  --text-muted: #9ca3af;
  --accent: #60a5fa;
  --accent-soft: rgba(59, 130, 246, 0.2);
  --accent-soft-strong: rgba(59, 130, 246, 0.42);
  --chip-bg: rgba(9, 17, 35, 0.92);
  --hero-glow-from: rgba(56, 189, 248, 0.75);
  --hero-glow-to: rgba(239, 246, 255, 0.4);

  --reroll-primary: 56, 189, 248;
  --reroll-secondary: 37, 99, 235;

  --btn-base: #2563eb;
  --btn-edge: #1e3a8a;
  --btn-glow: 59, 130, 246;
}

[data-theme="black"] {
  --bg: radial-gradient(circle at 50% -25%, #1f2937 0, #0b1220 55%, #050910 100%);
  --card-bg: rgba(17, 24, 39, 0.95);
  --card-border: rgba(107, 114, 128, 0.45);
  --text-main: #f9fafb;
  --text-muted: #9ca3af;
  --accent: #f9fafb;
  --accent-soft: rgba(229, 231, 235, 0.2);
  --accent-soft-strong: rgba(229, 231, 235, 0.4);
  --chip-bg: rgba(17, 24, 39, 0.92);
  --hero-glow-from: rgba(249, 250, 251, 0.6);
  --hero-glow-to: rgba(156, 163, 175, 0.45);

  --reroll-primary: 249, 250, 251;
  --reroll-secondary: 31, 41, 55;

  --btn-base: #374151;
  --btn-edge: #111827;
  --btn-glow: 209, 213, 219;
}

/* === Crimson (semi-dark premium red) === */
[data-theme="crimson"] {
  /* background + cards */
  --bg: radial-gradient(circle at top, #7f1d1d 0, #1b0b0b 45%, #0a0202 100%);
  --card-bg: rgba(24, 16, 20, 0.94);
  --card-border: rgba(248, 113, 113, 0.45);

  /* text + accents */
  --text-main: #ffeaea;
  --text-muted: #fecaca;
  --accent: #f43f5e; /* rose-500 */
  --accent-soft: rgba(244, 63, 94, 0.25);
  --accent-soft-strong: rgba(244, 63, 94, 0.45);
  --chip-bg: rgba(24, 16, 20, 0.92);

  /* hero glow */
  --hero-glow-from: rgba(244, 63, 94, 0.75);
  --hero-glow-to: rgba(255, 228, 230, 0.45);

  /* reroll button colors */
  --reroll-primary: 244, 63, 94;   /* rgb for gradients */
  --reroll-secondary: 127, 29, 29;

  /* glossy title gradient (used by your theme-aware heading) */
  --title-grad-1: #fff1f2;  /* very light rose */
  --title-grad-2: #fecdd3;  /* soft pink */
  --title-grad-3: #f43f5e;  /* rose */
  --title-grad-4: #fb7185;  /* rose/orange edge */
}

[data-theme="emerald"] {
  --bg: radial-gradient(circle at 50% -25%, #0f513b 0, #07241c 55%, #041016 100%);
  --card-bg: rgba(6, 32, 28, 0.96);
  --card-border: rgba(52, 211, 153, 0.45);
  --text-main: #e6fff6;
  --text-muted: #6ee7b7;
  --accent: #34d399;
  --accent-soft: rgba(16, 185, 129, 0.28);
  --accent-soft-strong: rgba(16, 185, 129, 0.55);
  --chip-bg: rgba(6, 78, 59, 0.9);
  --hero-glow-from: rgba(45, 212, 191, 0.8);
  --hero-glow-to: rgba(16, 185, 129, 0.55);

  --reroll-primary: 52, 211, 153;
  --reroll-secondary: 4, 120, 87;

  --btn-base: #059669;
  --btn-edge: #065f46;
  --btn-glow: 45, 212, 191;
}

/* GLOBAL LAYOUT ----------------------------------------- */
*,
*::before,
*::after { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "SF Pro Text", sans-serif;
  color: var(--text-main);
  background: var(--bg);
  min-height: 100%;
}

body {
  display: flex;
  align-items: stretch;
  justify-content: center;
  padding: 18px;           /* tighter to help full-page fit */
}

/* Shell width + vertical rhythm */
.app-shell {
  width: 100%;
  max-width: 1200px;
  display: grid;
  grid-template-rows: auto 1fr auto;
  gap: 12px;               /* tighter */
}

/* HEADER / HERO ----------------------------------------- */
.hero {
  display: flex;
  align-items: center;
  justify-content: center; /* center logo + text group */
  gap: 14px;
  position: relative;
  z-index: 1;              /* below cards which have z-index:2 */
  margin-bottom: 4px;      /* extra breathing room */
}

.hero-main {
  display: flex;
  align-items: center;
  gap: 14px;
}

.hero-orbit {
  width: 88px;
  height: 88px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 20%, #0f172a, #020617 70%);
  box-shadow:
    0 0 30px var(--hero-glow-from),
    0 0 70px var(--hero-glow-to);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  animation: hero-glow-pulse 5s ease-in-out infinite;
}

.hero-orbit-inner {
  width: 70px;
  height: 70px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.hero-orbit-inner img {
  width: 120%;
  height: 120%;
  object-fit: cover;
  border-radius: 50%;
  display: block;
}

/* premium glossy title */
.hero-copy {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.hero-copy h1 {
  margin: 0;
  letter-spacing: 0.32em;
  font-size: 22px;
  text-transform: uppercase;
  background:
    linear-gradient(135deg,
      rgba(255,255,255,0.95) 0%,
      var(--accent) 25%,
      #ffffff 50%,
      var(--accent) 75%,
      rgba(255,255,255,0.9) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  position: relative;
  text-shadow:
    0 1px 0 rgba(255,255,255,0.12),
    0 6px 18px rgba(var(--btn-glow), 0.25);
}
.hero-copy h1::after{
  /* sheen sweep */
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.6) 35%, transparent 70%);
  transform: translateX(-120%);
  filter: blur(1px);
  animation: sheen 4.8s ease-in-out infinite;
  -webkit-mask-image: linear-gradient(#000, #000);
          mask-image: linear-gradient(#000, #000);
}

.hero-copy p {
  margin: 0;
  font-size: 13px;
  color: var(--text-muted);
}

@keyframes sheen {
  0%   { transform: translateX(-120%); opacity: .0; }
  8%   { opacity: .9; }
  20%  { transform: translateX(120%); opacity: .0; }
  100% { transform: translateX(120%); opacity: .0; }
}

@keyframes hero-glow-pulse {
  0%,100% {
    box-shadow:
      0 0 30px var(--hero-glow-from),
      0 0 70px var(--hero-glow-to);
    transform: scale(1);
  }
  50% {
    box-shadow:
      0 0 52px var(--hero-glow-from),
      0 0 110px var(--hero-glow-to);
    transform: scale(1.02);
  }
}

/* THEME SWITCHER ---------------------------------------- */
.theme-switcher {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-left: auto; /* keep dots right while hero centered */
}

.theme-label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--text-muted);
}

.theme-dots {
  display: flex;
  gap: 6px;
  padding: 6px;
  border-radius: 999px;
  background-color: rgba(15, 23, 42, 0.65);
  box-shadow: 0 10px 30px rgba(15, 23, 42, 0.5);
}

.theme-dot {
  width: 16px;
  height: 16px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.7);
  padding: 0;
  cursor: pointer;
  transition: transform 0.16s ease, box-shadow 0.16s ease, border-color 0.16s ease;
}

/* specific dot visuals (neon is clearly different) */
.theme-dot[data-theme="dark-purple"] {
  background: radial-gradient(circle at 30% 20%, #a855f7, #4c1d95);
}
.theme-dot[data-theme="white"] {
  background: radial-gradient(circle at 30% 20%, #f9fafb, #9ca3af);
}
.theme-dot[data-theme="gold"] {
  background: radial-gradient(circle at 30% 20%, #facc15, #92400e);
}
.theme-dot[data-theme="blue"] {
  background: radial-gradient(circle at 30% 20%, #60a5fa, #1d4ed8);
}
.theme-dot[data-theme="black"] {
  background: radial-gradient(circle at 30% 20%, #f9fafb, #111827);
}
/* Distinct emerald dot (deeper teal, not neon) */
.theme-dot[data-theme="emerald"] {
  background: radial-gradient(circle at 30% 20%, #10b981 18%, #047857 55%, #0f766e 100%);
  box-shadow: 0 0 6px rgba(16, 185, 129, 0.45), inset 0 0 4px rgba(4, 120, 87, 0.45);
}

/* Theme dot for Crimson */
.theme-dot[data-theme="crimson"] {
  background: radial-gradient(circle at 30% 20%, #fecdd3 15%, #f43f5e 55%, #7f1d1d 100%);
  box-shadow:
    0 0 10px rgba(244, 63, 94, 0.55),
    inset 0 0 6px rgba(127, 29, 29, 0.5);
}


.theme-dot:hover {
  transform: scale(1.1) translateY(-1px);
  box-shadow: 0 0 10px rgba(248, 250, 252, 0.45), 0 0 18px rgba(129, 140, 248, 0.45);
  border-color: rgba(248, 250, 252, 0.9);
}

.theme-dot.is-active {
  transform: scale(1.15);
  box-shadow: 0 0 12px rgba(248, 250, 252, 0.6), 0 0 30px rgba(94, 234, 212, 0.45);
  border-color: rgba(248, 250, 252, 0.95);
}

/* MAIN LAYOUT ------------------------------------------- */
.app-main {
  display: grid;
  grid-template-columns: 1fr; /* single column for tighter vertical control */
  gap: 12px;
}

/* CARDS ------------------------------------------------- */
.card {
  background: var(--card-bg);
  border-radius: 16px;
  border: 1px solid var(--card-border);
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
  padding: 12px 12px 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: relative;
  z-index: 2; /* ensures inputs render above hero glow */
}

.card-input { min-height: 220px; }
.card-results { min-height: 180px; }
.card-failed { min-height: 84px; }
.card-history { min-height: 120px; }

.card-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; }

.card-title {
  margin: 0;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--text-muted);
}

.card-subtitle { margin: 0; font-size: 12px; color: var(--text-muted); }

/* TEXTAREA ---------------------------------------------- */
.url-textarea {
  width: 100%;
  min-height: 140px;
  max-height: 340px;
  resize: none;
  padding: 10px 11px;
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.5);
  background: rgba(9, 17, 35, 0.9);
  color: #e5e7eb;
  font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  line-height: 1.5;
  outline: none;
  box-shadow: 0 10px 26px rgba(6, 12, 24, 0.5);
}
.url-textarea::placeholder { color: rgba(148, 163, 184, 0.75); }

.url-textarea:focus {
  border-color: rgba(var(--btn-glow), 0.9);
  box-shadow: 0 0 0 1px rgba(var(--btn-glow), 0.9), 0 14px 36px rgba(6, 12, 24, 0.85);
}

/* BUTTONS ------------------------------------------------ */
button { font-family: inherit; }
.controls { display: flex; align-items: center; gap: 8px; margin-top: 6px; }

.btn-secondary,
.secondary {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.6);
  background: rgba(15, 23, 42, 0.8);
  color: var(--text-muted);
  font-size: 12px;
  padding: 7px 14px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  transition: border-color 0.15s ease, background-color 0.15s ease, color 0.15s ease, transform 0.08s ease;
}
.btn-secondary.subtle,
.secondary.subtle { background: rgba(15, 23, 42, 0.65); border-style: dashed; }
.btn-secondary:hover:not(:disabled),
.secondary:hover:not(:disabled) { border-color: rgba(var(--btn-glow), 0.9); color: #e5e7eb; transform: translateY(-0.5px); }
.btn-secondary:disabled,
.secondary:disabled { opacity: 0.45; cursor: default; }

/* "Clear history" mini pill */
#clearHistoryBtn {
  position: relative;
  padding: 4px 12px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  background-color: #f2f7fa;
  color: #0e418f;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  overflow: hidden;
  transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.1s ease;
}
#clearHistoryBtn::before {
  content: "";
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background-color: #0e418f;
  opacity: 0.8;
}
#clearHistoryBtn:hover { background-color: #0e418f; color: #b5ccf3; box-shadow: 0 6px 18px rgba(15, 23, 42, 0.45); transform: translateY(-0.5px); }
#clearHistoryBtn:active { transform: translateY(1px) scale(0.97); box-shadow: none; }

/* PROGRESS BAR ------------------------------------------ */
.progress-row { display: flex; flex-direction: column; gap: 4px; margin-top: 6px; }
.helper-text { font-size: 11px; color: var(--text-muted); }

.progress-bar-outer {
  width: 100%;
  height: 5px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.7);
  overflow: hidden;
}
.progress-bar-inner {
  width: 0%;
  height: 100%;
  border-radius: inherit;
  background: linear-gradient(90deg, #22c55e, #a855f7, #f97316);
  transition: width 0.2s ease-out;
}

/* RESULTS ------------------------------------------------ */
.results-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-height: 360px;
  overflow-y: auto;
  padding-right: 4px;
}

.tweet {
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.38);
  background: linear-gradient(135deg, rgba(9, 17, 35, 0.98), rgba(9, 17, 35, 0.86));
  padding: 10px 10px 8px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.tweet-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.tweet-link { font-size: 11px; color: #e5e7eb; text-decoration: none; word-break: break-all; }
.tweet-link:hover { text-decoration: underline; }

.tweet-actions { display: flex; align-items: center; gap: 8px; }

.comments { display: flex; flex-direction: column; gap: 6px; margin-top: 4px; }

.comment-line {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 8px;
  align-items: center;
  padding: 5px 7px;
  border-radius: 999px;
  background: var(--chip-bg);
  border: 1px solid rgba(148, 163, 184, 0.55);
  color: var(--text-main);
}
.comment-tag { font-size: 10px; text-transform: uppercase; letter-spacing: 0.12em; color: rgba(55, 65, 81, 0.9); white-space: nowrap; }
.comment-text { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Copy buttons (comments + history) */
.copy-btn, .copy-btn-en, .history-copy-btn {
  position: relative;
  background-color: #f2f7fa;
  width: 100px; height: 30px;
  border: none; border-radius: 10px;
  font-weight: 600; cursor: pointer; overflow: hidden;
  transition-duration: 700ms; font-size: 11px;
}
.history-copy-btn { width: 90px; height: 26px; font-size: 10px; }
.copy-btn span:first-child, .copy-btn-en span:first-child, .history-copy-btn span:first-child {
  color: #0e418f; position: absolute; top: 50%; left: 50%;
  transform: translate(-50%, -50%); display: inline-flex; align-items: center; gap: 6px;
}
.copy-btn span:last-child, .copy-btn-en span:last-child, .history-copy-btn span:last-child {
  position: absolute; top: 50%; left: 50%; color: #b5ccf3; opacity: 0;
  transform: translateY(100%) translateX(-50%); height: 14px; line-height: 13px;
}
.copy-btn:focus, .copy-btn-en:focus, .history-copy-btn:focus {
  background-color: #0e418f; width: 120px; height: 40px; transition-delay: 100ms; transition-duration: 500ms;
}
.history-copy-btn:focus { width: 110px; height: 34px; }
.copy-btn:focus span:first-child, .copy-btn-en:focus span:first-child, .history-copy-btn:focus span:first-child {
  color: #b5ccf3; transform: translateX(-50%) translateY(-150%); opacity: 0; transition-duration: 500ms;
}
.copy-btn:focus span:last-child, .copy-btn-en:focus span:last-child, .history-copy-btn:focus span:last-child {
  transform: translateX(-50%) translateY(-50%); opacity: 1; transition-delay: 300ms; transition-duration: 500ms;
}

/* REROLL button (3D pill) */
.reroll-btn {
  position: relative;
  width: 46px; height: 38px; padding: 0; border: none; border-radius: 50%;
  cursor: pointer; user-select: none; background: transparent;
  outline: 6px solid rgba(var(--reroll-primary), 0.3);
  transition: outline-color 0.3s ease, transform 0.15s ease;
}
.reroll-btn::before {
  content: ""; position: absolute; inset: 0; border-radius: 50%; background: rgb(var(--reroll-secondary));
}
.reroll-btn::after {
  content: "Re-roll"; position: absolute; inset: 0; border-radius: 50%;
  background: linear-gradient(0deg, rgba(var(--reroll-primary), .6) 20%, rgba(var(--reroll-primary), 1) 50%);
  box-shadow: 0 .45em .9em -.2em rgba(var(--reroll-secondary), .5);
  border: 1px solid rgb(var(--reroll-secondary)); transform: translateY(-15%);
  display: flex; align-items: center; justify-content: center;
  font-size: .55rem; font-weight: 600; color: rgb(var(--reroll-secondary));
  text-transform: uppercase; letter-spacing: .08em; transition: transform .15s ease, box-shadow .15s ease;
}
.reroll-btn:hover { outline-color: rgba(var(--reroll-primary), 0.7); }
.reroll-btn:active::after { transform: translateY(0%); box-shadow: none; }
.reroll-btn:active { transform: translateY(1px); }

/* FAILED ------------------------------------------------- */
.failed-list {
  display: flex; flex-direction: column; gap: 6px; max-height: 140px; overflow-y: auto; padding-right: 4px;
}
.failed-item {
  padding: 6px 8px; border-radius: 10px; background: rgba(15, 23, 42, 0.9);
  border: 1px dashed rgba(248, 113, 113, 0.7); font-size: 11px; color: #fecaca;
}
.failed-url { display: block; word-break: break-all; }
.failed-reason { display: block; margin-top: 2px; font-size: 10px; color: #fca5a5; }

/* HISTORY ------------------------------------------------ */
.history-list {
  display: flex; flex-direction: column; gap: 6px; max-height: 160px; overflow-y: auto; padding-right: 4px;
}
.history-item {
  display: flex; align-items: center; justify-content: space-between; gap: 8px;
  padding: 5px 7px; border-radius: 999px; background: rgba(15, 23, 42, 0.9);
  border: 1px solid rgba(148, 163, 184, 0.5); font-size: 11px; color: #e5e7eb;
}
.history-text { flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.history-meta { display: flex; align-items: center; gap: 6px; font-size: 10px; color: var(--text-muted); }

/* FOOTER ------------------------------------------------- */
.app-footer {
  font-size: 11px;
  color: var(--text-muted);
  display: flex; justify-content: space-between; align-items: center;
  padding-bottom: 4px;
}

/* SCROLLBARS -------------------------------------------- */
.results-list::-webkit-scrollbar,
.failed-list::-webkit-scrollbar,
.history-list::-webkit-scrollbar { width: 4px; }
.results-list::-webkit-scrollbar-thumb,
.failed-list::-webkit-scrollbar-thumb,
.history-list::-webkit-scrollbar-thumb { background: rgba(148, 163, 184, 0.7); border-radius: 999px; }

/* SKELETON ---------------------------------------------- */
.tweet-skeleton {
  border-radius: 14px; border: 1px solid rgba(148, 163, 184, 0.3);
  padding: 10px 10px 8px;
  background: linear-gradient(90deg, rgba(15, 23, 42, 0.9) 0%, rgba(30, 64, 175, 0.85) 50%, rgba(15, 23, 42, 0.9) 100%);
  background-size: 200% 100%; animation: shimmer 1.3s infinite linear;
}
.tweet-skeleton-line {
  height: 8px; border-radius: 999px; background-color: rgba(15, 23, 42, 0.75); margin-bottom: 6px;
}
.tweet-skeleton-line:last-child { width: 80%; }
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }

/* HEIGHT-AWARE TWEAKS (fit full page at 100% where possible) */
@media (max-height: 900px) {
  body { padding: 14px; }
  .hero-orbit { width: 80px; height: 80px; }
  .hero-orbit-inner { width: 64px; height: 64px; }
  .hero-copy h1 { font-size: 20px; letter-spacing: 0.28em; }
  .card { padding: 10px; }
  .card-input { min-height: 210px; }
  .card-results { min-height: 160px; }
  .card-failed { min-height: 72px; }
  .card-history { min-height: 110px; }
}

@media (max-height: 780px) {
  .hero { margin-bottom: 0; }
  .url-textarea { min-height: 120px; }
  .card-results { max-height: 240px; }
}

/* RESPONSIVE WIDTH -------------------------------------- */
@media (max-width: 900px) {
  body { padding: 14px; }
  .app-main { grid-template-columns: 1fr; }
}

@media (max-width: 640px) {
  body { padding: 12px; }
  .hero { flex-direction: column; align-items: center; gap: 10px; }
  .controls { flex-wrap: wrap; }
}

/* === Viewport-fit layout pass (non-destructive) === */
.app-shell{
  width: min(1200px, 96vw);
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
  min-height: 100vh;           /* allow footer to stick to bottom */
}
.app-main{ flex: 1; }
.app-footer{ margin-top: auto; }

/* Keep hero centered while the theme switcher stays to the right */
.hero{
  position: relative;
  align-items: center;
  gap: 16px;
  padding-block: 8px;
}
.hero-main{ margin: 0 auto; }   /* centers the logo + title */
.theme-switcher{ margin-left: auto; } /* pins dots to the right */

/* Make sure the pulsing glow never overlaps content below */
.hero-orbit{ z-index: 0; }
header.hero + .app-main{ position: relative; z-index: 1; }

/* Slightly reduce vertical footprint on short screens */
@media (max-height: 900px){
  body{ padding: 16px; }
  .app-main{ gap: 12px; }
  .card{ padding: 12px; }
  .url-textarea{ min-height: 120px; max-height: 280px; }
  .card-results{ min-height: 180px; }
  .card-history{ min-height: 120px; }
}

/* Extra-short laptop displays (e.g., 768p) */
@media (max-height: 740px){
  .url-textarea{ min-height: 100px; }
  .card-results{ min-height: 160px; }
  .card-failed{ min-height: 80px; }
}


/* === Viewport-fit layout pass (non-destructive) === */
.app-shell{
  width: min(1200px, 96vw);
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
  min-height: 100vh;           /* allow footer to stick to bottom */
}
.app-main{ flex: 1; }
.app-footer{ margin-top: auto; }

/* Keep hero centered while the theme switcher stays to the right */
.hero{
  position: relative;
  align-items: center;
  gap: 16px;
  padding-block: 8px;
}
.hero-main{ margin: 0 auto; }   /* centers the logo + title */
.theme-switcher{ margin-left: auto; } /* pins dots to the right */

/* Make sure the pulsing glow never overlaps content below */
.hero-orbit{ z-index: 0; }
header.hero + .app-main{ position: relative; z-index: 1; }

/* Slightly reduce vertical footprint on short screens */
@media (max-height: 900px){
  body{ padding: 16px; }
  .app-main{ gap: 12px; }
  .card{ padding: 12px; }
  .url-textarea{ min-height: 120px; max-height: 280px; }
  .card-results{ min-height: 180px; }
  .card-history{ min-height: 120px; }
}

/* Extra-short laptop displays (e.g., 768p) */
@media (max-height: 740px){
  .url-textarea{ min-height: 100px; }
  .card-results{ min-height: 160px; }
  .card-failed{ min-height: 80px; }
}


/* ===== Fit everything at 100% zoom (footer always visible) ===== */

/* Make the page a flex column so the footer sits after a flexible main area */
.app-shell {
  display: flex;
  min-height: 100vh;
  flex-direction: column;
}

/* Let the main grid flex, but not push the footer off-screen */
.app-main {
  flex: 1;
  min-height: 0; /* critical so inner scroll areas can size correctly */
}

/* Slightly tighter outer padding so the full layout fits at 100% */
body {
  padding: 16px;
}

/* Nudge minimum sizes down a bit so all cards fit together */
.card-input   { min-height: 200px; }
.card-results { min-height: 200px; }
.card-history { min-height: 120px; }

/* Textarea: a touch shorter by default so it doesn’t crowd the grid */
.url-textarea {
  min-height: 130px;
  max-height: 300px;
}

/* Keep a little breathing room before the footer */
.app-footer {
  margin-top: 12px;
}

/* Keep the glossy sweep UNDER the hero content/logo */
.hero {
  position: relative;
  /* creates a new stacking context so ::before stays behind */
  isolation: isolate;
}

/* If your sheen uses ::before / ::after on .hero, keep it as z-index:0 */
.hero::before,
.hero::after {
  z-index: 0 !important;
  pointer-events: none;
}

/* Ensure hero content sits above the sheen */
.hero-main,
.theme-switcher {
  position: relative;
  z-index: 1;
}

/* Extra explicit: logo above everything */
.hero-orbit {
  position: relative;
  z-index: 2;
}


/* === Copied state (theme-aware) ======================== */
.comment-line.copied {
  background: linear-gradient(
    90deg,
    rgba(129, 140, 248, 0.10),
    rgba(129, 140, 248, 0.06)
  );
  border-color: var(--accent-soft-strong);
  box-shadow:
    0 0 0 1px var(--accent-soft-strong),
    0 8px 22px rgba(129, 140, 248, 0.25);
}

.copy-btn.is-copied,
.copy-btn-en.is-copied {
  background-color: rgba(129, 140, 248, 0.15);
  outline: 1px dashed var(--accent-soft-strong);
}
.copy-btn.is-copied span:first-child,
.copy-btn-en.is-copied span:first-child {
  color: var(--accent);
}

/* === Tweet link affordance ============================= */
.tweet-link {
  text-decoration: underline;
  text-decoration-style: dotted;
  text-underline-offset: 3px;
  opacity: 0.92;
  transition: color .15s ease, opacity .15s ease, filter .15s ease;
  position: relative;
  padding-right: 14px; /* room for ↗ icon */
}

.tweet-link:hover {
  color: var(--accent);
  opacity: 1;
  filter: drop-shadow(0 0 10px rgba(129, 140, 248, .25));
}

/* small external-link glyph, no extra markup needed */
.tweet-link::after {
  content: "↗";
  position: absolute;
  right: 0;
  top: 0;
  font-size: 10px;
  line-height: 1;
  opacity: .8;
}

/* optional: subtle “Open tweet” hint on hover for desktop */
@media (pointer: fine) {
  .tweet-header:hover .tweet-link::before {
    content: "Open tweet";
    position: absolute;
    left: 0;
    top: -18px;
    font-size: 10px;
    letter-spacing: .06em;
    text-transform: uppercase;
    color: var(--text-muted);
  }
}

/* =========================
   CrownTALK Card (ct-card)
   ========================= */

/* ---- Theme tokens for the card (scoped, safe defaults) ---- */
:root {
  --ct-text: hsl(0 0% 98%);
  --ct-paragraph: hsl(0 0% 78%);
  --ct-line: hsl(240 9% 17%);
  --ct-bg: hsl(240 15% 9%);
  --ct-primary: hsl(266 92% 58%);
  --ct-accent1: hsl(284 100% 84%);
  --ct-accent2: hsl(306 100% 57%);
  --ct-sheen: hsl(277 95% 60%);
}

/* Map your site themes -> card tokens */
[data-theme="white"] {
  --ct-text: hsl(240 10% 10%);
  --ct-paragraph: hsl(240 6% 35%);
  --ct-line: hsl(240 10% 90%);
  --ct-bg: hsl(0 0% 100%);
  --ct-primary: hsl(222 94% 55%);   /* blue */
  --ct-accent1: hsl(222 100% 85%);
  --ct-accent2: hsl(200 100% 70%);
  --ct-sheen: hsl(222 95% 60%);
}

[data-theme="dark-purple"] {
  --ct-text: hsl(0 0% 98%);
  --ct-paragraph: hsl(0 0% 78%);
  --ct-line: hsl(260 20% 20%);
  --ct-bg: hsl(250 20% 12%);
  --ct-primary: hsl(266 92% 58%);   /* violet */
  --ct-accent1: hsl(284 100% 84%);  /* pink-ish glow */
  --ct-accent2: hsl(306 100% 57%);  /* fuchsia */
  --ct-sheen: hsl(277 95% 60%);
}

[data-theme="gold"] {
  --ct-text: hsl(45 20% 95%);
  --ct-paragraph: hsl(45 15% 78%);
  --ct-line: hsl(45 25% 25%);
  --ct-bg: hsl(45 25% 12%);
  --ct-primary: hsl(43 96% 56%);    /* gold */
  --ct-accent1: hsl(50 100% 80%);
  --ct-accent2: hsl(35 100% 65%);
  --ct-sheen: hsl(44 95% 62%);
}

[data-theme="blue"] {
  --ct-text: hsl(210 20% 96%);
  --ct-paragraph: hsl(210 10% 78%);
  --ct-line: hsl(210 20% 22%);
  --ct-bg: hsl(220 22% 12%);
  --ct-primary: hsl(217 91% 60%);   /* royal blue */
  --ct-accent1: hsl(200 100% 72%);
  --ct-accent2: hsl(190 100% 68%);
  --ct-sheen: hsl(210 100% 66%);
}

[data-theme="black"] {
  --ct-text: hsl(0 0% 98%);
  --ct-paragraph: hsl(0 0% 70%);
  --ct-line: hsl(0 0% 18%);
  --ct-bg: hsl(240 15% 6%);
  --ct-primary: hsl(190 95% 55%);   /* cyan pop */
  --ct-accent1: hsl(200 100% 72%);
  --ct-accent2: hsl(160 100% 60%);
  --ct-sheen: hsl(190 95% 60%);
}

[data-theme="emerald"] {
  --ct-text: hsl(150 15% 96%);
  --ct-paragraph: hsl(150 10% 78%);
  --ct-line: hsl(155 20% 20%);
  --ct-bg: hsl(160 25% 12%);
  --ct-primary: hsl(158 64% 52%);   /* emerald */
  --ct-accent1: hsl(156 100% 80%);
  --ct-accent2: hsl(170 100% 70%);
  --ct-sheen: hsl(158 80% 58%);
}

[data-theme="crimson"] {
  --ct-text: hsl(0 0% 98%);
  --ct-paragraph: hsl(0 0% 80%);
  --ct-line: hsl(350 22% 22%);
  --ct-bg: hsl(350 20% 12%);
  --ct-primary: hsl(356 72% 54%);   /* crimson */
  --ct-accent1: hsl(340 95% 76%);   /* rose glow */
  --ct-accent2: hsl(10 100% 62%);   /* warm red/orange */
  --ct-sheen: hsl(350 90% 60%);
}

/* ---- Card base ---- */
.ct-card {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 1rem;

  padding: 1rem;
  width: 100%;
  max-width: 22rem;

  color: var(--ct-text);
  background-color: var(--ct-bg);

  /* stacked radial “nebula” like Uiverse, but theme-driven */
  background-image:
    radial-gradient(at 88% 40%, var(--ct-bg) 0px, transparent 85%),
    radial-gradient(at 49% 30%, var(--ct-bg) 0px, transparent 85%),
    radial-gradient(at 14% 26%, var(--ct-bg) 0px, transparent 85%),
    radial-gradient(at 0% 64%, var(--ct-primary) 0px, transparent 85%),
    radial-gradient(at 41% 94%, var(--ct-accent1) 0px, transparent 85%),
    radial-gradient(at 100% 99%, var(--ct-accent2) 0px, transparent 85%);

  border-radius: 1rem;
  box-shadow: 0 -16px 24px 0 inset rgba(255, 255, 255, 0.12);
  border: 1px solid color-mix(in lab, var(--ct-line) 70%, transparent);
}

/* border glow layer */
.ct-card__border {
  overflow: hidden;
  pointer-events: none;

  position: absolute;
  inset: -1px;
  z-index: 0;

  border-radius: inherit;
  background-image: linear-gradient(0deg, hsl(0 0% 100% / .7) -50%, hsl(0 0% 40%) 100%);
}

/* rotating sweep highlight */
.ct-card__border::before {
  content: "";
  position: fixed; /* keep sweep smooth on scroll like the Uiverse snippet */
  top: 50%;
  left: 50%;
  transform-origin: left;
  width: 200%;
  height: 10rem;
  z-index: 1;

  background-image: linear-gradient(
    0deg,
    hsl(0 0% 100% / 0) 0%,
    var(--ct-sheen) 40%,
    var(--ct-sheen) 60%,
    hsl(0 0% 40% / 0) 100%
  );

  animation: ct-rotate 8s linear infinite;
}

/* motion safety */
@media (prefers-reduced-motion: reduce) {
  .ct-card__border::before { animation: none; }
}

@keyframes ct-rotate {
  to { transform: rotate(360deg); }
}

/* content elements (mirrors the Uiverse names, namespaced) */
.ct-card__title { font-size: 1rem; font-weight: 600; }
.ct-card__subtitle { margin-top: .25rem; font-size: .75rem; color: var(--ct-paragraph); max-width: 32ch; }

.ct-card__hr {
  height: .1rem; border: 0; width: 100%;
  background-color: color-mix(in lab, var(--ct-line) 85%, transparent);
}

.ct-card__list { display: flex; flex-direction: column; gap: .5rem; }
.ct-card__item { display: flex; align-items: center; gap: .5rem; }

.ct-card__check {
  display: inline-flex; justify-content: center; align-items: center;
  width: 1rem; height: 1rem; background: var(--ct-primary); border-radius: 50%;
  box-shadow: 0 0 12px color-mix(in lab, var(--ct-primary) 55%, transparent);
}
.ct-card__check svg { width: .75rem; height: .75rem; fill: hsl(0 0% 8%); }

.ct-card__text { font-size: .8rem; color: var(--ct-text); }

/* optional: full-bleed header row */
.ct-card__header { display:flex; align-items:center; justify-content:space-between; gap:.5rem; }

/* responsive nicety */
@media (min-width: 768px) {
  .ct-card { max-width: 24rem; }
}


/* ================================
   Uiverse-style premium cards
   (non-breaking: new .uiverse-card class)
   ================================ */

.uiverse-card {
  --ui-white: hsl(0 0% 100%);
  --ui-black: hsl(240 15% 9%);
  --ui-paragraph: hsl(0 0% 83%);
  --ui-line: hsl(240 9% 17%);

  /* theme-accent defaults (overridden per theme below) */
  --ui-accent-1: hsl(266 92% 58%);  /* main accent */
  --ui-accent-2: hsl(284 100% 84%); /* glow */
  --ui-accent-3: hsl(306 100% 57%); /* glow */

  position: relative;
  display: flex;
  flex-direction: column;
  gap: 1rem;

  padding: 1rem;
  border-radius: 1rem;

  /* base + multi-spot gradient like Uiverse */
  background-color: hsla(240, 15%, 9%, 1);
  background-image:
    radial-gradient(at 88% 40%, hsla(240, 15%, 9%, 1) 0px, transparent 85%),
    radial-gradient(at 49% 30%, hsla(240, 15%, 9%, 1) 0px, transparent 85%),
    radial-gradient(at 14% 26%, hsla(240, 15%, 9%, 1) 0px, transparent 85%),
    radial-gradient(at 0% 64%, var(--ui-accent-1) 0px, transparent 85%),
    radial-gradient(at 41% 94%, var(--ui-accent-2) 0px, transparent 85%),
    radial-gradient(at 100% 99%, var(--ui-accent-3) 0px, transparent 85%);
  box-shadow: 0 -16px 24px 0 rgba(255,255,255,.18) inset;

  /* keep sheen inside the card */
  overflow: hidden;
  isolation: isolate;
}

/* rotating chrome border like the demo, but confined to the card */
.uiverse-card .card__border{
  pointer-events: none;
  position: absolute;
  inset: 0;
  z-index: 0;
  border-radius: inherit;
}

.uiverse-card .card__border::before{
  content: "";
  position: absolute;              /* <-- was fixed; now clipped to the card */
  left: 50%;
  top: 50%;
  width: 220%;
  height: 220%;
  transform: translate(-50%, -50%) rotate(0deg);
  transform-origin: center;
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;

  background-image: linear-gradient(
    0deg,
    hsla(0 0% 100% / 0) 0%,
    var(--ui-accent-1) 40%,
    var(--ui-accent-1) 60%,
    hsla(0 0% 40% / 0) 100%
  );

  filter: blur(10px);
  opacity: .65;
  animation: uiverse-rotate 8s linear infinite;
  will-change: transform;
}

@keyframes uiverse-rotate{
  to { transform: translate(-50%, -50%) rotate(360deg); }
}

/* titles + subtitle like the element */
.uiverse-card .card_title__container{ position:relative; z-index:2; }
.uiverse-card .card_title{ font-size:1rem; color:var(--ui-white); }
.uiverse-card .card_paragraph{
  margin-top:.25rem; width:min(65ch,65%);
  font-size:.75rem; line-height:1.25rem; color:var(--ui-paragraph);
}

/* thin divider */
.uiverse-card .line{
  position:relative; z-index:2;
  width:100%; height:.1rem; border:none;
  background-color:var(--ui-line);
  opacity:.9;
}

/* inner body area (where your textarea / lists live) */
.uiverse-body{
  position:relative; z-index:2;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  border-radius:.85rem;
  padding: .75rem;
  box-shadow:
    0 0 0 1px rgba(255,255,255,.06) inset,
    0 -6px 16px rgba(255,255,255,.08) inset;
}

/* Make your existing section content breathe inside the new shell */
.uiverse-body .url-textarea{ margin-top:.25rem; }
.uiverse-body .controls{ margin-top:.5rem; }
.uiverse-body .progress-row{ margin-top:.5rem; }

/* Results / Failed / History lists spacing */
.uiverse-body .results-list,
.uiverse-body .failed-list,
.uiverse-body .history-list{ margin-top:.25rem; }

/* -------------------------------------------
   Theme mappings → reuse your data-theme system
   (only override accents; everything else stays)
   ------------------------------------------- */
:root[data-theme="dark-purple"] .uiverse-card{
  --ui-accent-1: hsl(266 92% 58%);
  --ui-accent-2: hsl(284 100% 84%);
  --ui-accent-3: hsl(306 100% 57%);
  --ui-line: hsl(268 15% 22%);
}
:root[data-theme="gold"] .uiverse-card{
  --ui-accent-1: hsl(42 95% 62%);
  --ui-accent-2: hsl(30 100% 72%);
  --ui-accent-3: hsl(12 90% 64%);
  --ui-line: hsl(38 20% 24%);
}
:root[data-theme="blue"] .uiverse-card{
  --ui-accent-1: hsl(210 90% 58%);
  --ui-accent-2: hsl(200 100% 76%);
  --ui-accent-3: hsl(190 85% 64%);
  --ui-line: hsl(215 18% 24%);
}
:root[data-theme="black"] .uiverse-card{
  --ui-accent-1: hsl(260 5% 35%);
  --ui-accent-2: hsl(260 8% 46%);
  --ui-accent-3: hsl(260 10% 56%);
  --ui-line: hsl(260 8% 22%);
}
:root[data-theme="emerald"] .uiverse-card{
  --ui-accent-1: hsl(159 64% 45%);
  --ui-accent-2: hsl(171 77% 60%);
  --ui-accent-3: hsl(191 97% 55%);
  --ui-line: hsl(165 18% 22%);
}
:root[data-theme="crimson"] .uiverse-card{
  --ui-accent-1: hsl(350 80% 55%);
  --ui-accent-2: hsl(338 88% 62%);
  --ui-accent-3: hsl(320 90% 60%);
  --ui-line: hsl(350 20% 22%);
}
/* softer “white” */
:root[data-theme="white"] .uiverse-card{
  --ui-white: hsl(0 0% 98%);
  --ui-paragraph: hsl(240 9% 40%);
  --ui-line: hsl(240 9% 88%);
  --ui-accent-1: hsl(266 92% 58%);
  --ui-accent-2: hsl(284 100% 84%);
  --ui-accent-3: hsl(306 100% 57%);
  background-color: hsl(240 7% 98%);
  background-image:
    radial-gradient(at 88% 40%, hsl(240 7% 98%) 0px, transparent 85%),
    radial-gradient(at 49% 30%, hsl(240 7% 98%) 0px, transparent 85%),
    radial-gradient(at 14% 26%, hsl(240 7% 98%) 0px, transparent 85%),
    radial-gradient(at 0% 64%, color-mix(in oklab, var(--ui-accent-1) 20%, white 80%) 0px, transparent 85%),
    radial-gradient(at 41% 94%, color-mix(in oklab, var(--ui-accent-2) 20%, white 80%) 0px, transparent 85%),
    radial-gradient(at 100% 99%, color-mix(in oklab, var(--ui-accent-3) 18%, white 82%) 0px, transparent 85%);
  box-shadow: 0 -12px 18px 0 rgba(0,0,0,.04) inset, 0 1px 0 rgba(0,0,0,.05);
}

/* Make our cards sit above the rotating border layer */
.uiverse-card > *:not(.card__border){ position:relative; z-index:2; }
