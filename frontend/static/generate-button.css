/* ===========================================
   CrownTALK - generate-button.css (updated)
   Theme-reactive button using CSS variables
   =========================================== */

.btn-wrapper {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Base button */
.btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 18px;
  border: 0;
  border-radius: 999px;
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;

  /* Theme-driven visuals */
  background: linear-gradient(180deg, var(--btn-bg-1), var(--btn-bg-2));
  color: #eaf2ff;
  box-shadow:
    0 0 0 2px var(--btn-ring) inset,
    var(--btn-glow);
  transition:
    transform .12s ease,
    box-shadow .2s ease,
    filter .2s ease,
    background .2s ease;
}

/* Subtle inner bevel */
.btn::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(120% 100% at 15% 0%, rgba(255,255,255,.18) 0%, transparent 60%),
    radial-gradient(100% 100% at 80% 120%, rgba(255,255,255,.06) 0%, transparent 60%);
  pointer-events: none;
}

/* Sweep shine on hover */
.btn::after {
  content: "";
  position: absolute;
  top: 0; bottom: 0;
  left: -30%;
  width: 30%;
  border-radius: inherit;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
  filter: blur(2px);
  opacity: 0;
  transform: skewX(-20deg);
  transition: opacity .25s ease, left .6s ease;
  pointer-events: none;
}

.btn:hover {
  transform: translateY(-1px);
  filter: saturate(1.08);
  box-shadow:
    0 0 0 2px var(--btn-ring) inset,
    0 10px 28px -10px var(--btn-ring),
    var(--btn-glow);
}

.btn:hover::after {
  opacity: 1;
  left: 120%;
}

.btn:active {
  transform: translateY(0);
}

/* Disabled state */
.btn:disabled {
  opacity: .6;
  cursor: default;
  transform: none;
  filter: none;
}

/* Icon */
.btn-svg {
  width: 18px;
  height: 18px;
  flex: 0 0 auto;
}
.btn-svg path {
  stroke: currentColor;
  fill: none;
  stroke-width: 1.6;
}

/* Text layers: idle vs generating */
.txt-wrapper {
  position: relative;
  display: grid;
  place-items: center;
  min-width: 88px; /* keeps width stable when swapping text */
}

.txt-1,
.txt-2 {
  grid-area: 1 / 1;
  line-height: 1;
  font-weight: 700;
  letter-spacing: .02em;
  font-size: 14px;
  transition: opacity .18s ease, transform .18s ease;
}

.txt-2 { /* hidden until generating */
  opacity: 0;
  transform: translateY(6px) scale(.98);
}

/* When generating: swap texts */
body.is-generating #generateBtn .txt-1 {
  opacity: 0;
  transform: translateY(-6px) scale(.98);
}
body.is-generating #generateBtn .txt-2 {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Focus ring (keyboard) */
.btn:focus-visible {
  outline: 0;
  box-shadow:
    0 0 0 3px rgba(255,255,255,.7),
    0 0 0 6px var(--btn-ring),
    var(--btn-glow);
}

/* Optional subtle dotted capsule behind Cancel when enabled */
#cancelBtn:not(:disabled) {
  box-shadow: 0 0 0 1px rgba(148,163,184,.35) inset;
  border-style: dotted;
}
